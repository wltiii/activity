= Interview Exercise - Outdoor Activities Suggestor
Bill Turner
:toc:
:toc-placement!:

toc::[]

== Requirements ==
. Create a RESTful API that determines if it is a good day to do things outside
(ski, run, swim, etc.) for the week.
. Weather Underground (http://www.wunderground.com/weather/api) and Forecast.io
(https://developer.forcast.io) are good options for data.
. The service takes location and date(s).
. Use a DSL or "rules engine" to determine what activities for the weather conditions on each day.
. Return the result as JSON
. Don't spend more than three days on this project.

== Goals ==

I believe that what was wanted was something that not only worked, but also demonstrated:

. Design skills
. Knowledge of Groovy
. Knowledge of unit testing, in particular with Spock
. Coding practice

In addition, by developing this, I was able to demonstrate other things.

. Knowledge of current architectural practices, i.e. microservices, which demonstrates an
awareness of trends in the field
. The ability to come up to speed quickly with technologies of which I have little or
no knowledge. I had never used DropWizard nor Drools before developing this solution.
. The ability to deliver a working solution in the time span typically available for a
story.

== Architecture Overview ==
All applications can be solved in a myriad of ways. After reading the requirements, I chose to
create a solution as a set of three microservices: activity, forecast, and suggestion
(see https://github.com/wltiii). Herein, when I speak of the application, I am referring to
the solution as a whole. Mention of one of the specific microservices is placing what is
being discussed in that context.

Activity is an orchestrator. It manages calls to the other services and returns suggestions.
Forecast calls other weather forecasting services (at present only one) and merges those
results into a common response. Suggestion wraps a rules engine which takes weather conditions
and returns a suggested activity.

image::images/architecture.png[Outdoor Activities Suggestor Architecture]

=== Endpoint Design ===

.Activity Service Method/URI Definitions
|===
|Method |URI or template |Purpose |Notes

|GET
|/activities
|Returns the possible activities that can be suggested.
|Not yet implemented.

|GET
|/activities/states
|Returns the states for which activities can be provided.
|Not yet implemented.

|GET
|/activities/states/{state}
|Request activity suggestions for the given state
|Not yet implemented. How to as weather can vary dramatically from region to region?

|GET
|/activities/states/{state}/cities
|Returns the cities for which activities can be provided.
|Not yet implemented.

|GET
|/activities/states/{state}/cities/{city}
|Request activity suggestions for the given city and state
|This is the only endpoint implemented. Could be improved with time of day suggestions.

|GET
|/activities/states/{state}/cities/{city}/dates
|Returns the dates for which activities can be provided.
|Not yet implemented.

|GET
|/activities/states/{state}/cities/{city}/dates/{date}
|Request activity suggestions for the given city, state and date.
|Not yet implemented. Could be useful for planning ahead.

|PUT
|n/a
|na
|This does not provide create/update capabilities

|PATCH
|n/a
|na
|This does not provide create/update capabilities

|POST
|n/a
|na
|This does not provide create/update capabilities

|DELETE
|n/a
|na
|This does not provide create/update capabilities
|===

=== Technology Stack ===
Below is a list of technologies used in the development of Activity.

* Groovy 2.3.6
* JVM: 1.8.0_45 Vendor: Oracle Corporation
* OS: Linux Mint 17
* Spock 0.7-groovy-2.0
* DropWizard 0.7.1
* Gradle 2.0

=== Disclaimer ===
Not having access to a user nor analyst is not a natural condition. There were conflicting
or unclear requirements that needed resolution. Also, other design choices would
have been made having someone available.

The very first requirement is unclear. What does _a good day to do things outside *for the week*_
actually mean? This also conflicted
with the requirement to take a location and a date(s). Discussing this with
colleagues, we agreed that the default action of passing a city and state would suggest
activities for each day of the week. The endpoints were purposely designed to allow for
retrieving suggestions in multiple ways.

This cannot be considered production ready. I viewed this as a story that would have
further stories addressing issues such as authorization, as well as implementing the
other endpoints.

include::STYLE_GUIDE.asciidoc[]

include::TODO.asciidoc[]
